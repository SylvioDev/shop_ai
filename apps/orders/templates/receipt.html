{% extends 'other_base.html'%}

{% block title %} {% endblock title %}

{% block content %}

<div class="receipt-container" style="margin-top:100px">
        <div class="header">
            <div class="brand">Shop AI</div>
            <div class="receipt-title">Purchase Receipt</div>
        </div>

        <div class="order-info">
            <div class="order-info-item">
                <div class="order-info-label">Order ID</div>
                <div class="order-info-value">{{ order.order_number }}</div>
            </div>
            <div class="order-info-item">
                <div class="order-info-label">Date</div>
                <div class="order-info-value">{{ order.created_at }}</div>
            </div>
            <div class="order-info-item">
                <div class="order-info-label">Status</div>
                <div class="order-info-value">{{ order.status }}</div>
            </div>
        </div>

        <div class="customer-info">
            <div class="info-section">
                <div class="info-label">Customer Name</div>
                <div class="info-value">{{ full_name }}</div>
            </div>
            <div class="info-section">
                <div class="info-label">Email Address</div>
                <div class="info-value">{{ user.email }}</div>
            </div>
            <div class="info-section">
                <div class="info-label">Shipping Address</div>
                <div class="info-value">
                    {{ shipping_address }}
                </div>
            </div>
        </div>

        <div class="items-section">
            <div class="section-title">Order Items</div>
            
            {% for product in order_items %}
                <div class="item">
                    <img src="{{ product.image_url }}" alt="Wireless Headphones" class="item-image">
                    <div class="item-details">
                        <div class="item-name">{{ product.product_name }}</div>
                        <div class="item-quantity">Quantity : {{ product.quantity }}</div>
                    </div>
                    <div class="item-price">${{ product.unit_price }}</div>
                </div>

            {% endfor %}
            
        </div>

        <div class="totals-section">
            <div class="total-row">
                <span class="total-label">Subtotal</span>
                <span class="total-value">${{ order.subtotal }}</span>
            </div>
            <div class="total-row">
                <span class="total-label">Shipping Fee</span>
                <span class="total-value">${{ order.shipping_cost }}</span>
            </div>
            <div class="total-row">
                <span class="total-label">VAT (20%)</span>
                <span class="total-value">${{ order.vat }}</span>
            </div>
            <div class="total-row final">
                <span class="total-label">Total</span>
                <span class="total-value">{{ order.final_total }} </span>
            </div>
        </div>

        <div class="footer">
            Thank you for shopping with <span class="footer-highlight">Shop AI</span>!<br>
            For support, contact us at support@shopai.com

        </div>
    </div>

{% endblock content %}